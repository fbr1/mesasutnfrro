<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Mesas UTN FRRO</title>
        <meta charset="UTF-8"/>
        <link type="text/css" href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
        <link type="text/css" rel="stylesheet" media="screen"
              href="../static/css/materialize.css"
              th:href="@{css/materialize.css}" />
        <link type="text/css" rel="stylesheet" media="screen"
              href="../static/css/mesasutnfrro.css"
              th:href="@{css/mesasutnfrro.css}" />

        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </head>

    <body>
        <div id="container" class="container">
            <!-- Barra de navegación -->
            <nav>
                <div class="nav-wrapper light-blue accent-4">
                    <a href="#" class="center brand-logo">Mesas UTN Frro</a>
                    <a href="#" data-activates="mobile-demo" class="button-collapse">
                        <i class="material-icons">menu</i>
                    </a>
                    <ul id="nav-mobile" class="right hide-on-med-and-down">
                        <li>
                            <a href="#">Contacto</a>
                        </li>
                    </ul>
                    <ul class="side-nav" id="mobile-demo">
                        <li>
                            <a href="#" class="blue-text text-darken-2">Contacto</a>
                        </li>
                    </ul>
                </div>
            </nav>
            <section id="contenido">
                <div class="card light-blue">
                    <div class="card-content white-text">
                        <span class="card-title" data-bind="text: 'Llamado a examen número ' + numero() + '. Año ' + año()"></span>

                    </div>
                    <div class="card-action">
                        <div id="filtros" class="row">
                            <div class="input-field col s12 m3" >
                                <select id="filtroEspecialidad" data-bind="options: opcionesEspecialidad,
                                            optionsText:  function(item) {return item.especialidad;},
                                            value: filtroEspecialidad,
                                            event: {change: setCookieEspecialidad}">
                                    <option value="" selected="selected">Todas</option>
                                    <option value="ISI">Ingeniería en sistemas</option>
                                    <option value="IQ">Ingeniería química</option>
                                    <option value="IM">Ingeniería mecánica</option>
                                    <option value="IC">Ingeniería civil</option>
                                    <option value="IE">Ingeniería eléctrica</option>
                                </select>
                                <label>Especialidad</label>
                            </div>
                            <div class="input-field col s12 m3">
                                <input name="Busqueda" placeholder="Comience a escribir..." id="filtroMateria" type="text" class="validate" data-bind="textInput: $root.filtroMateria" />
                                <label for="filtroMateria">Materia</label>
                            </div>
                        </div>
                        <div class="chip" data-bind="text: filtroEspecialidad().especialidad, visible : filtroEspecialidad()" style="display: none">
                        </div>
                        <div class="chip" data-bind="text: filtroMateria(), visible: filtroMateria()" style="display: none">
                        </div>
                    </div>
                </div>
                <div id="loader">
                    <div class="loader">
                        <span class="dot dot_1"></span>
                        <span class="dot dot_2"></span>
                        <span class="dot dot_3"></span>
                        <span class="dot dot_4"></span>
                    </div>
                </div>
                <div id="mesas" data-bind="foreach: mesas, visible: mesas().length > 0" style="display: none">
                    <!--ko if: examenesFiltrados().length > 0-->
                    <ul class="collection with-header z-depth-2">
                        <li class="collection-header">
                            <h3>Mesa día <span data-bind="text: fechaFormateada()"></span></h3>
                        </li>

                        <li class="collection-item">
                            <table class="striped">
                                <thead>
                                    <tr>
                                        <th data-field="materia">Materia</th>
                                        <th data-field="especialidad">Especialidad</th>
                                        <th data-field="aula">Aula</th>
                                        <th data-field="fecha">Hora</th>
                                    </tr>
                                </thead>

                                <tbody data-bind="foreach: examenesFiltrados">
                                    <tr data-bind="visible: pasaFiltros()">
                                        <td data-bind="text: materia.nombre()"></td>
                                        <td data-bind="text: materia.especialidad()"></td>
                                        <td data-bind="text: aula()"></td>
                                        <td data-bind="text: fechaFormateada()"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </li>
                    </ul>
                    <!--/ko-->
                </div>
            </section>
        </div>

        <script type="text/javascript" src="../static/js/jquery-2.2.3.min.js" th:src="@{js/jquery-2.2.3.min.js}"></script>
        <script type="text/javascript" src="../static/js/materialize.js" th:src="@{js/materialize.js}"></script>
        <script type="text/javascript" src="../static/js/ko.js" th:src="@{js/ko.js}"></script>
        <script type="text/javascript" src="../static/js/knockout.mapping-latest.debug.js" th:src="@{js/knockout.mapping-latest.debug.js}"></script>
        <script type="text/javascript" src="../static/js/jquery.mark.min.js" th:src="@{js/jquery.mark.min.js}"></script>
        <script type="text/javascript" src="../static/js/jquery.cookie.js" th:src="@{js/jquery.cookie.js}"></script>
        <script type="text/javascript" src="../static/js/mesasutnfrro.js" th:src="@{js/mesasutnfrro.js}"></script>
    </body>
</html>